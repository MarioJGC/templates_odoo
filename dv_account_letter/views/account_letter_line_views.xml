<odoo>
    <!-- Vista tree de letras de clientes -->
    <record model="ir.ui.view" id="account_letter_line_tree">
        <field name="name">account_letter.line.view.tree</field>
        <field name="model">account.letter.line</field>
        <field name="arch" type="xml">
            <tree>
                <field name="nro_letter" string="Nro.Canje"/>
                <field name="partner_id" string="Socio"/>
                <field name="currency_id"/>
                <field name="bank_id"/>
                <field name="code"/>
                <field name="account_id"/>
                <field name="expiration_date"/>
                <field name="amount_total"/>
                <field name="letter_id" string="Código de canje"/>
                <field name="payment_state" widget="badge"
                    decoration-info="payment_state == 'pending'"
                    decoration-success="payment_state in ('paid','renewed')"
                    decoration-danger="payment_state == 'protested'"/>
            </tree>
        </field>
    </record>
    <!-- Vista search de letras de clientes -->
    <record model="ir.ui.view" id="account_letter_line_search">
        <field name="name">account_letter.line.view.search</field>
        <field name="model">account.letter.line</field>
        <field name="arch" type="xml">
            <search>
                <field name="nro_letter" string="Nro.Canje"/>
                <field name="partner_id" string="Socio"/>
                <field name="currency_id"/>
                <field name="bank_id"/>
                <field name="code"/>
                <field name="account_id"/>
                <field name="expiration_date"/>
                <field name="letter_id" string="Código de canje"/>
                <field name="payment_state"/>
                <filter string="No pagado" name="pending" domain="[('payment_state', '=', 'pending')]"/>
                <filter string="Pagado" name="paid" domain="[('payment_state', '=', 'paid')]"/>
                <filter string="Renovado" name="renewed" domain="[('payment_state', '=', 'renewed')]"/>
                <filter string="Protestado" name="protested" domain="[('payment_state', '=', 'protested')]"/>
                <group  expand="1" string="Group By">
                    <filter string="Socio" name="partner" context="{'group_by':'partner_id'}" />
                    <filter string="Código de canje" name="letter_id" context="{'group_by':'letter_id'}" />
                    <filter string="Cuenta" name="account" context="{'group_by':'account_id'}" />
                    <filter string="Fecha de vencimiento" name="expiration_date" context="{'group_by':'expiration_date'}" />
                    <separator/>
                    <filter string="Banco" name="bank" context="{'group_by':'bank_id'}" />
                    <filter string="Estado de pago" name="payment_state" context="{'group_by':'payment_state'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Accion de ventana de letras de clientes -->
    <record model="ir.actions.act_window" id="account_letter_line_action_clientes">
        <field name="name">Letras</field>
        <field name="res_model">account.letter.line</field>
        <field name="view_mode">tree</field>
        <field name="search_view_id" ref="account_letter_line_search"/>
        <field name="context">{"search_default_pending":1}</field>
        <field name="domain">[('move_invoice_type', '=', 'out_invoice')]</field>
    </record>
    <!-- Accion de ventana de letras de proveedores -->
    <record model="ir.actions.act_window" id="account_letter_line_action_proveedores">
        <field name="name">Letras</field>
        <field name="res_model">account.letter.line</field>
        <field name="view_mode">tree</field>
        <field name="search_view_id" ref="account_letter_line_search"/>
        <field name="context">{"search_default_pending":1}</field>
        <field name="domain">[('move_invoice_type', '=', 'in_invoice')]</field>
    </record> 
</odoo>